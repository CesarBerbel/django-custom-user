{% load toast_extras %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{% block title %}Config Starter{% endblock %}</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />

  <!-- (opcional) Bootstrap Icons -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    rel="stylesheet"
  />

  <!-- Global styles -->
  <style>
    /* Global (light-first) design: white background, dark text, subtle borders */
    :root {
      /* Branding (primary) */
      --bs-primary: #2563eb;         /* azul */
      --bs-primary-rgb: 37, 99, 235;      
      color-scheme: light; /* prioritize light */
      --bg: #ffffff;
      --fg: #0a0a0a;
      --muted: #6b7280;       /* gray-500-ish */
      --border: #e5e7eb;      /* gray-200-ish */
      --radius: 12px;
      --shadow: 0 4px 10px rgba(0,0,0,0.06);
      --accent: #111111;      /* near-black by default; change if you want color links */
      --accent-hover: #000000;
    }

    /* Page frame */
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      margin: 0;
      padding: 2rem;
      display: flex;
      justify-content: center;
    }

    .container {
      width: 100%;
      max-width: 880px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 2rem;
      box-shadow: var(--shadow);
    }

    header {
      border-bottom: 1px solid var(--border);
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
    }

    footer {
      border-top: 1px solid var(--border);
      margin-top: 2rem;
      padding-top: 1rem;
      text-align: center;
      font-size: 0.9rem;
      color: var(--muted);
    }

    a {
      color: var(--accent);
      text-decoration: underline;
      text-underline-offset: 2px;
    }

    a:hover {
      color: var(--accent-hover);
    }

    /* Buttons (for simplicity; adjust as needed) */
    button {
      background: var(--fg);
      color: var(--bg);
      border: 1px solid var(--fg);
      border-radius: 8px;
      padding: 0.5rem 0.75rem;
      cursor: pointer;
    }
    button:hover { filter: brightness(0.95); }

    /* Toasts (top-left) — tuned for white background */
    .toast-msg {
      background: #ffffff;
      color: var(--fg);
      border: 1px solid var(--border);
      border-radius: 10px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    }
    .toast-msg.success { border-color: #10b98155; }
    .toast-msg.error   { border-color: #ef444455; }
    .toast-msg.warning { border-color: #f59e0b55; }
    .toast-msg.info    { border-color: #3b82f655; }
  </style>

</head>

<body>
  <div class="container">
    {% include "partials/toasts.html" %}
    <header class="d-flex justify-content-between align-items-center pb-2 mb-3 border-bottom">
    <h1 class="h3 m-0">{% block header %}Config Starter{% endblock %}</h1>

    <nav class="d-flex align-items-center gap-2">
      {% if user.is_authenticated %}
        <span class="text-muted small">Hello, {{ user.email }}</span>
        <a href="{% url 'accounts:profile' %}" class="btn btn-outline-primary btn-sm">Profile</a>
        <form method="post" action="{% url 'accounts:logout' %}" class="d-inline">
          {% csrf_token %}
          <button type="submit" class="btn btn-primary btn-sm">Logout</button>
        </form>
      {% else %}
        <a href="{% url 'accounts:login' %}" class="btn btn-primary btn-sm">Login</a>
        <a href="{% url 'accounts:register' %}" class="btn btn-outline-primary btn-sm">Register</a>
      {% endif %}
    </nav>
  </header>

    <main>
      {% block content %}
      <!-- Page-specific content goes here -->
      {% endblock %}
    </main>

    <footer>
      {% block footer %}
      © {{ now|date:"Y" }} Config Starter · Powered by Django
      {% endblock %}
    </footer>
  </div>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
  <script>
  // Auto-init and auto-hide Bootstrap toasts (3s)
  (function () {
    const container = document.getElementById("toast-container");
    if (!container) return;
    const toastElList = [].slice.call(container.querySelectorAll('.toast'));
    toastElList.forEach((toastEl) => {
      const t = new bootstrap.Toast(toastEl, { delay: 3000, autohide: true });
      t.show();
    });
  })();
</script>
</body>
</html>
